# Вимоги до системи управління кіберспортивними турнірами

## 1. Потреби зацікавлених сторін

### Організатори турнірів
- Реєструвати нові турніри з інформацією про назву, дати та призовий фонд.
- Зберігати результати матчів у межах турніру.
- Фіксувати участь команд, склади та зайняті місця.
- Відображати командні та індивідуальні призові.

### Команди
- Вести історію складів із періодами існування.
- Зберігати результати участі в турнірах.
- Додавати логотип і назву.
- Переглядати отримані призові.

### Гравці
- Зберігати профіль гравця (нікнейм, вік).
- Переглядати історію виступів у складах команд.
- Переглядати особисті призові в розрізі турнірів.

### Вболівальники та аналітики
- Переглядати турніри, їхні результати та матчі.
- Аналізувати історію виступів команд і гравців.
- Відслідковувати призові фонди, командні та індивідуальні виграші.

---

## 2. Дані для зберігання та бізнес-правила

### Основні дані
- Турніри: назва, дата, призовий фонд.
- Матчі: рахунок, список команд.
- Команди: назва, логотип, склади.
- Склади: список гравців, період існування.
- Гравці: нікнейм, вік.
- Призові: командні та індивідуальні.

### Бізнес-правила
1. Один турнір містить багато матчів.
2. У матчі беруть участь щонайменше дві команди.
3. Команда завжди грає у складі (`roster`).
4. Один гравець може входити до кількох складів у різний час.
5. Призові на рівні команди (`team_prize`) належать складу в турнірі.
6. Індивідуальні призові (`player_prize`) пов’язані з конкретним турніром і гравцем.
7. Сума індивідуальних призових одного складу не перевищує загальний приз складу.
8. Дати існування складів однієї команди не повинні перетинатися.

---

## 3. Сутності з атрибутами, обмеженнями та допусками

### **tournament (турнір)**
- `id: int` — PK, автоінкремент.
- `name: str` — назва турніру, обов’язкова, унікальна в межах року.
- `date: date` — дата початку, не може бути в минулому при створенні.
- `prize: money` — призовий фонд, `>= 0`.

### **matches (матчі)**
- `id: int` — PK.
- `score: str` — рахунок, nullable до завершення матчу.
- `teams: [team id]` — список учасників (мінімум 2).
- Обмеження: усі команди належать одному турніру.

### **team (команда)**
- `id: int` — PK.
- `name: str` — назва, унікальна, обов’язкова.
- `logo: bin data` — необов’язковий.
- `roster: id_roster` — активний склад.
- `prize: team_prize` — призові команди.

### **roster (склад)**
- `id: int` — PK.
- `Players[]` — список гравців (мінімум 5, максимум 7).
- `timelife: str` — період існування.
- Обмеження: дати складів однієї команди не перетинаються.

### **players (гравці)**
- `id: int` — PK.
- `nick: str` — унікальний нікнейм, обов’язковий.
- `age: int` — вік, `>= 12`.
- `prize: player_prize` — індивідуальні призові.

### **team_prize (приз команди)**
- `id: int` — PK.
- `tournament_id: int` — FK на турнір.
- `place: str` — зайняте місце.
- `roster_id: int` — FK на склад.
- `money: int` — призові, `>= 0`.

### **player_prize (приз гравця)**
- `id: int` — PK.
- `player_id: int` — FK на гравця.
- `tournament_id: int` — FK на турнір.
- `place: str` — зайняте місце.
- `money: int` — призові, `>= 0`.
- Обмеження: сума для всіх гравців складу ≤ `team_prize.money`.

---
